# miniServiceFrame
最小微服务框架，大二下学期《面向对象高级编程专题》大作业


基于 Java 构建的微服务架构服务器（Oat++ 服务外壳）
作业目标
本项目旨在开发一个最小可运行、可扩展的微服务架构“服务外壳”，使用 Java 编写基础设施服务部分（如服务网关、注册中心、配置中心、服务调用封装等），通过面向对象的编程思想实现高内聚、可维护的分布式架构骨架。
所有业务逻辑由独立的 Oat++（C++）服务实现（C++服务部分不属于本次大作业中的一部分），Java 微服务框架通过 HTTP 接口与其交互。项目的核心目标是掌握微服务架构的核心组成模块，实践 Spring Cloud 生态中的服务治理组件，提升服务解耦、扩展与统一管理能力。
功能要求
1. 服务注册与发现
- 使用注册中心（如 Nacos）实现服务自动注册与动态发现。
- 后端业务服务（Oat++）在启动后注册自身信息，Java 网关与其他微服务通过注册中心进行发现与路由。
2. API 网关
- 使用 Spring Cloud Gateway 实现统一入口，支持：
  - 请求路由转发到不同 Oat++ 服务
  - 路径重写、认证拦截、限流策略等
- 支持热加载路由规则，实现高可维护性的网关配置方案。
3. 配置中心
- 使用 Nacos 作为集中配置中心。
- 所有 Java 微服务均从配置中心动态读取启动参数，实现配置的集中化、版本化和热更新。
4. 服务间通信代理
- 封装对 Oat++ 服务的调用接口，使用 WebClient 或 OpenFeign 实现基于注册中心的负载均衡访问。
- 所有服务间的 HTTP 调用统一封装为服务接口模块，降低调用耦合度。
5. 服务健康检查与状态管理
- 使用 Spring Boot Actuator 提供健康检查接口，结合注册中心进行实例剔除与动态上下线。
- 所有服务状态通过统一组件管理，保障系统稳定运行。
设计模式应用
本项目结合课程中讲授的编程技术与设计模式，体现了面向对象设计的原则和良好实践。

一、编程技术应用：
1. 泛型：在服务代理封装中，使用泛型定义统一的 HTTP 响应处理接口，增强模块的复用性和类型安全。
2. 枚举：用于定义服务状态（如 UP、DOWN、OFFLINE）和环境配置类型（如 DEV、PROD），简化状态判断逻辑。
3. 注解：利用自定义注解定义统一的服务访问接口格式和接口元数据，简化配置和路由注册。
4. Lambda 和 Stream：在服务列表过滤、配置加载和网关路由构建过程中使用 Java 8 的 Lambda 表达式与 Stream API，提高代码的简洁性与可读性。

二、设计模式应用：
1. 单例模式：用于实现配置管理器、服务注册客户端等核心组件，确保全局只有一个实例，避免状态不一致。
2. 静态工厂模式：用于封装服务代理和过滤器创建逻辑，将实例化过程集中管理，便于扩展和维护。


技术栈
| 功能 | 技术工具 |
|------|----------|
| 服务网关 | Spring Cloud Gateway |
| 服务注册 | Nacos |
| 配置管理 | Nacos Config |
| 服务通信 | Spring WebClient / OpenFeign |
| 构建工具 | Maven |
| 服务实现 | Oat++（C++，业务逻辑部分） |
| 服务容器 | Docker（部署服务、启动统一平台） |
拓展能力
- 服务健康探针支持 Prometheus + Grafana 可观测性扩展。
- Spring Cloud Gateway 可添加 JWT 鉴权等中间件支持统一安全策略。
- 可集成服务熔断（Resilience4j）和限流等高级功能，增强服务鲁棒性。
